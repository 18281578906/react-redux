{"version":3,"sources":["redux/actionCreator.js","pages/Home/index.jsx","router/router.js","pages/Test/index.jsx","component/TabBar.jsx","component/layout/BaseLayout.jsx","api/request.js","api/config.js","pages/Login/index.jsx","pages/Register/index.jsx","App.js","redux/reducer.js","redux/store.js","index.js"],"names":["mapStateToProps","state","ownProps","num","info","isPC","mapDispatchToProps","dispatch","add","type","delete","setInfo","data","actionTab","index","getIsPc","bol","connect","props","console","log","onClick","router","home","url","desc","page","Home","test","withRouter","tabStatus","useEffect","location","pathname","split","activeTab","className","Object","values","map","e","i","to","key","activeIcon","icon","style","color","BaseLayout","path","exact","component","pending","request","config","instance","axios","create","baseURL","timeout","headers","JSON","parse","localStorage","getItem","token","interceptors","response","use","res","result","defaults","f","removePending","error","Promise","reject","resolve","then","catch","err","login","account","password","a","method","params","Register","userAgentInfo","navigator","userAgent","Agents","flag","v","length","indexOf","IsPC","keys","Login","defaultState","tab","reducer","action","stringify","store","createStore","composeWithDevTools","ReactDOM","render","document","getElementById"],"mappings":";6QAAaA,EAAkB,SAACC,EAAOC,GACrC,MAAO,CACLC,IAAKF,EAAME,IACXC,KAAMH,EAAMG,KACZC,KAAKJ,EAAMI,OAGFC,EAAmB,SAACC,EAASL,GACxC,MAAM,CACJM,IAAI,WACFD,EAAS,CAACE,KAAK,SAEjBC,OAAO,WACLH,EAAS,CAACE,KAAK,YAEjBE,QAAQ,SAACC,GACPL,EAAS,CAACE,KAAK,OAAOG,UAExBC,UAAU,SAACC,GACTP,EAAS,CAACE,KAAK,MAAMK,WAEvBC,QAAQ,SAACC,GACPT,EAAS,CAACE,KAAK,QAAQO,W,yBCNdC,G,MAAAA,YAAQjB,EAAiBM,EAAzBW,EARJ,SAACC,GAEV,OADAC,QAAQC,IAAIF,GACL,6BACT,kBAAC,IAAD,CAAQT,KAAK,UAAUY,QAASH,EAAMR,QAAtC,KACGQ,EAAMf,IACT,kBAAC,IAAD,CAAQM,KAAK,UAAUY,QAASH,EAAMV,KAAtC,UCIec,G,OAdN,CACLC,KAAK,CACHC,IAAI,QACJC,KAAK,OACLC,KAAKC,GAEPC,KAAK,CACHJ,IAAI,QACJC,KAAK,OACLC,KCTK,WACT,OAAO,yCC6BMG,kBAAWZ,YAAQjB,EAAiBM,EAAzBW,EA5B1B,SAAgBC,GAAQ,IACdY,EAAcZ,EAAdY,UAKN,OAJAC,qBAAU,WAEO,SADFb,EAAMc,SAASC,SAASC,MAAM,KAAK,IACzBhB,EAAMiB,UAAU,KACtC,CAACjB,IAEA,yBAAKkB,UAAU,UACX,4BAIQC,OAAOC,OAAOhB,GAAQiB,KAAI,SAACC,EAAGC,GAE1B,OADAtB,QAAQC,IAAIoB,GAER,kBAAC,IAAD,CAAME,GAAIF,EAAEhB,IAAKmB,IAAKH,EAAEf,MACpB,4BACI,uBAAGW,UAAWN,IAAcW,EAAI,qBAAuB,WAAvD,IAAoEX,IAAcW,EAAID,EAAEI,WAAaJ,EAAEK,MACvG,uBAAGC,MAAOhB,IAAcW,EAAI,CAAEM,MAAO,OAAU,CAAEA,MAAO,uBAAyBP,EAAEf,iBCFxGuB,G,OAdE,WACf,OACE,6BAEQX,OAAOC,OAAOhB,GAAQiB,KAAI,SAAAC,GACtB,OACI,kBAAC,IAAD,CAAOS,KAAMT,EAAEhB,IAAK0B,OAAK,EAACC,UAAWX,EAAEd,KAAMiB,IAAKH,EAAEhB,SAIhE,kBAAC,EAAD,S,0CCdJ4B,EAAU,GAiECC,MAnDR,SAAiBC,GACpB,IAAMC,EAAWC,IAAMC,OAAO,CAC1BC,QCfa,8BDgBbC,QCde,IDefC,QAAS,CACL,eAAgB,oCAChB,MAAQC,KAAKC,MAAMC,aAAaC,QAAQ,eAAeH,KAAKC,MAAMC,aAAaC,QAAQ,cAAcC,SAgC7G,OA1BAV,EAASW,aAAaC,SAASC,KAAI,SAAAC,GAC/B,OAAOA,EAAIzD,KAAK0D,UAIpBf,EAASW,aAAab,QAAQe,KAAI,SAAUC,GAexC,OA5CY,SAACf,GAEjB,IAAK,IAAIb,KAAKW,EACNA,EAAQX,GAAGjB,MAAQgC,IAAMe,SAASb,QAAUJ,EAAO9B,MACnDL,QAAQC,IAAI,yIACZgC,EAAQX,GAAG+B,IAEXrD,QAAQC,IAAIgC,EAAQX,GAAGjB,MAuB3BiD,CAAcnB,GAcPe,KACR,SAAUK,GACT,OAAOC,QAAQC,OAAOF,MAInB,IAAIC,SAAQ,SAACE,EAASD,GACzBrB,EAASD,GAAQwB,MAAK,SAAAT,GAClBQ,EAAQR,MACTU,OAAM,SAAAC,GAIDA,EAAIb,gBErCLlD,G,OAAAA,YAAQjB,EAAiBM,EAAzBW,EAnBH,SAACC,GACXC,QAAQC,IAAIF,GACZ,IAAM+D,EAAK,uCAAG,WAAOC,EAASC,GAAhB,SAAAC,EAAA,sEACC/B,EAAQ,CACnBgC,OAAQ,OACR7D,IAAK,qBACL8D,OAAQ,CACNJ,QAAQ,UACRC,SAAS,YAND,mFAAH,wDAab,OAHEpD,qBAAU,WACRkD,MACC,IACE,0CCfQM,G,OAHA,WACb,OAAO,2CCiDMtE,kBAAQjB,EAAiBM,EAAzBW,EAxCf,SAAaC,GA4BX,OAdFa,qBAAU,WAINb,EAAMH,QAjBR,WACE,IAAIyE,EAAgBC,UAAUC,UAC9BvE,QAAQC,IAAIoE,GAGZ,IAFA,IAAIG,EAAS,CAAC,UAAW,SAAU,YAAa,gBAAiB,OAAQ,QACrEC,GAAO,EACFC,EAAI,EAAGA,EAAIF,EAAOG,OAAQD,IAC/B,GAAIL,EAAcO,QAAQJ,EAAOE,IAAM,EAAG,CACtCD,GAAO,EACP,MAGR,OAAOA,EAMOI,IACVjC,aAAaC,QAAQ,aACjB3B,OAAO4D,KAAKpC,KAAKC,MAAMC,aAAaC,QAAQ,eAAe,IAC3D9C,EAAMP,QAAQkD,KAAKC,MAAMC,aAAaC,QAAQ,eAGlD9C,EAAMP,QAAQ,MAGnB,CAACO,EAAM8E,OAEN,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO/C,KAAK,SAASE,UAAW+C,IAChC,kBAAC,IAAD,CAAOjD,KAAK,YAAYE,UAAWoC,IACnC,kBAAC,IAAD,CAAOtC,KAAK,IAAIE,UAAWH,IAC3B,kBAAC,IAAD,CAAOC,KAAK,OAAOE,UAAW,kBAAM,sCACpC,kBAAC,IAAD,CAAUT,GAAG,SALf,S,QC3CAyD,EAAe,CACnBhG,IAAK,EACLC,KAAM,GACNgG,IAAK,EACL/F,MAAK,GAyBQgG,EAvBC,WAAmC,IAAlCpG,EAAiC,uDAAzBkG,EAAcG,EAAW,uCAChD,OAAQA,EAAO7F,MACb,IAAK,MACHR,EAAME,MACN,MACF,IAAK,SACHF,EAAME,MACN,MACF,IAAK,OACHF,EAAMG,KAAOkG,EAAO1F,KACpB,MACF,IAAK,MACHX,EAAMmG,IAAME,EAAOxF,MACnB,MACA,IAAK,QACHb,EAAMI,KAAKiG,EAAOtF,IAClB,MACJ,QACE,OAAOf,EAGX,OAAO4D,KAAKC,MAAMD,KAAK0C,UAAUtG,K,QCtBpBuG,EADDC,sBAAYJ,EAASK,iCCInCC,IAASC,OACT,kBAAC,IAAD,CAAUJ,MAAOA,GACf,kBAAC,EAAD,OAEAK,SAASC,eAAe,U","file":"static/js/main.b62d1dd2.chunk.js","sourcesContent":["export const mapStateToProps = (state, ownProps) => {\n  return {\n    num: state.num,\n    info: state.info,\n    isPC:state.isPC\n  }\n}\nexport const mapDispatchToProps=(dispatch,ownProps)=>{\n  return{\n    add:()=>{\n      dispatch({type:'ADD'})\n    },\n    delete:()=>{\n      dispatch({type:'DELETE'})\n    },\n    setInfo:(data)=>{\n      dispatch({type:'INFO',data})\n    },\n    actionTab:(index)=>{\n      dispatch({type:'TAB',index})\n    },\n    getIsPc:(bol)=>{\n      dispatch({type:'ISPIC',bol})\n    }\n  }\n}","import React from 'react';\n//使用redux的页面需要调用这两个\nimport { mapStateToProps, mapDispatchToProps } from '../../redux/actionCreator'\nimport { connect } from 'react-redux'\n\nimport {Button} from 'antd';\nimport './style.css'\n\nconst Home=(props)=>{\n  console.log(props);\n  return <div>\n<Button type='primary' onClick={props.delete} >-</Button>\n  {props.num}\n<Button type='primary' onClick={props.add}>+</Button>\n  </div>\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\n","import Home from '../pages/Home'\nimport Test from '../pages/Test'\nconst router=()=>{\n  return {\n    home:{\n      url:'/home',\n      desc:'home',\n      page:Home\n    },\n    test:{\n      url:'/test',\n      desc:'test',\n      page:Test\n    }\n  }\n\n}\nexport default router();","import React from 'react';\nimport './style.css'\n\nconst Test=()=>{\n  return <div>Test</div>\n}\nexport default Test;","import React, { useEffect } from 'react';\nimport { Link, withRouter } from 'react-router-dom'\nimport router from '../router/router'\nimport { connect } from 'react-redux'\nimport { mapStateToProps, mapDispatchToProps } from '../redux/actionCreator'\nfunction TabBar(props) {\n    let { tabStatus } = props\n    useEffect(() => {\n        let path = props.location.pathname.split('/')[1]\n        if (path === 'chat') props.activeTab(0)\n    }, [props])\n    return (\n        <div className=\"tabBox\">\n            <ul\n            // style={localStorage.getItem('token') ? { visibility: 'visible' } : { visibility: 'hidden' }}\n            >\n                {\n                    Object.values(router).map((e, i) => {\n                        console.log(e);\n                        return (\n                            <Link to={e.url} key={e.desc}>\n                                <li >\n                                    <p className={tabStatus === i ? 'iconBox activeIcon' : 'iconBox'}> {tabStatus === i ? e.activeIcon : e.icon}</p>\n                                    <p style={tabStatus === i ? { color: 'red' } : { color: 'rgb(110, 110, 110)' }}>{e.desc}</p>\n                                </li>\n                            </Link>\n                        )\n                    })\n                }\n            </ul>\n        </div>\n    );\n}\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TabBar));\n","import React from 'react';\nimport {Route} from 'react-router-dom';\nimport router from '../../router/router'\nimport TabBar from '../TabBar'\nimport './style.css'\n\n\nconst BaseLayout=()=>{\n  return (\n    <div>\n        { // 路由tab栏\n            Object.values(router).map(e => {\n                return (\n                    <Route path={e.url} exact component={e.page} key={e.url} />\n                )\n            })\n        }\n        <TabBar/>\n    </div>\n)\n}\nexport default BaseLayout;","import axios from 'axios'\nimport { baseURL, timeout } from './config'\n\nlet pending = []; //声明一个数组用于存储每个请求的取消函数和axios标识\n// let cancelToken = axios.CancelToken;\nlet removePending = (config) => {\n    // console.log(config);\n    for (let i in pending) {\n        if (pending[i].url === axios.defaults.baseURL + config.url) { //在当前请求在数组中存在时执行取消函数\n            console.log('取消————————————————————-')\n            pending[i].f(); //执行取消操作\n            //pending.splice(i, 1); 根据具体情况决定是否在这里就把pending去掉\n            console.log(pending[i].url);\n        }\n    }\n}\n\nexport function request(config) {\n    const instance = axios.create({\n        baseURL,\n        timeout,\n        headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n            'Token':JSON.parse(localStorage.getItem('loginInfo'))&&JSON.parse(localStorage.getItem('loginInfo')).token\n        }\n    })\n \n  \n    //! 数据过滤\n    instance.interceptors.response.use(res => {\n        return res.data.result\n    })\n\n    //请求拦截\n    instance.interceptors.request.use(function (res) {\n        removePending(config); //在一个axios发送前执行一下判定操作，在removePending中执行取消操作\n        /**\n         * @addToken\n         */\n        // if (res.params) {\n        //     if (!res.params.userSession) {\n        //         let userSession = sessionStorage.getItem('token')\n        //         if (userSession === \" \") userSession = sessionStorage.getItem('token')\n        //         res.params.userSession = userSession;\n        //     }\n        // } else if (!res.params) {\n        //     res.params = { userSession: sessionStorage.getItem('token') }\n        // }\n\n        return res\n    }, function (error) {\n        return Promise.reject(error)\n    })\n\n    // 此处封装一层捕捉错误\n    return new Promise((resolve, reject) => {\n        instance(config).then(res => {\n            resolve(res)\n        }).catch(err => {\n            /**\n             * @err\n             */\n            if (err.response) {\n\n            }\n        })\n    })\n}\nexport default request;\n","// baseURL = 'http://103.218.240.32'\n// export const baseURL = 'http://120.26.58.108:9501'  //接口地址\n\n// export const baseURL='http://47.108.151.32:9501' // 预发布'\nexport const baseURL='https://api.fishcashier.com' // 正式'\n\nexport const timeout = 10000                    //请求延迟\n","import React,{useEffect} from 'react';\nimport { mapStateToProps, mapDispatchToProps } from '../../redux/actionCreator'\nimport { connect } from 'react-redux'\nimport request from '../../api/request'\nimport './style.css'\n\nconst Login=(props)=>{\n  console.log(props);\n  const login = async (account, password) => {\n    return await request({\n      method: 'post',\n      url: '/merchant/v1/login',\n      params: {\n        account:'account',\n        password:'123456',\n      }\n    })\n  }\n  useEffect(() => {\n    login()\n  }, [])\nreturn <div>\nlogin\n</div>\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)\n","import React from 'react';\nimport './style.css'\n\nconst Register=()=>{\n  return <div>Register</div>\n}\nexport default Register;","import React from 'react';\nimport { useEffect } from 'react'\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom'\nimport { mapStateToProps, mapDispatchToProps } from './redux/actionCreator'\nimport { connect } from 'react-redux'\nimport './App.css';\n//布局组件\nimport BaseLayout from './component/layout/BaseLayout'\n\n//组件\nimport Login from './pages/Login'\nimport Register from './pages/Register'\n\nfunction App(props) {\n  function IsPC() {\n    var userAgentInfo = navigator.userAgent;\n    console.log(userAgentInfo);\n    var Agents = [\"Android\", \"iPhone\", \"SymbianOS\", \"Windows Phone\", \"iPad\", \"iPod\"];\n    var flag = true;\n    for (var v = 0; v < Agents.length; v++) {\n        if (userAgentInfo.indexOf(Agents[v]) > 0) {\n            flag = false;\n            break;\n        }\n    }\n    return flag;\n}\nuseEffect(() => {\n    // if (!IsPC()) {\n    //     new VConsole()\n    // }\n    props.getIsPc(IsPC())\n    if (localStorage.getItem('loginInfo')) {\n        if (Object.keys(JSON.parse(localStorage.getItem('loginInfo')))[0]) {\n            props.setInfo(JSON.parse(localStorage.getItem('loginInfo')))\n        }\n    }else{\n        props.setInfo({})\n    }\n// eslint-disable-next-line react-hooks/exhaustive-deps\n}, [props.IsPC])\n  return (\n    <Router>\n      <Switch>\n        <Route path='/login' component={Login}></Route>\n        <Route path='/register' component={Register}></Route>\n        <Route path='/' component={BaseLayout}></Route>\n        <Route path='/404' component={() => <h1>404</h1>}></Route>\n        <Redirect to='/404'></Redirect> {/* 找不到的话重新定位到404页面 */}\n      </Switch>\n    </Router>\n  );\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n\n","const defaultState = {\n  num: 0,\n  info: {},\n  tab: 0,\n  isPC:true\n};\nconst reducer = (state = defaultState, action) => {\n  switch (action.type) {\n    case 'ADD':\n      state.num++;\n      break;\n    case 'DELETE':\n      state.num--;\n      break;\n    case 'INFO':\n      state.info = action.data;\n      break;\n    case 'TAB':\n      state.tab = action.index;\n      break;\n      case 'ISPIC':\n        state.isPC=action.bol;\n        break;\n    default:\n      return state;\n    \n  }\n  return JSON.parse(JSON.stringify(state))\n}\nexport default reducer;","import {createStore} from 'redux';\nimport reducer from './reducer';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nconst store = createStore(reducer, composeWithDevTools())\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './redux/store'\n\nimport { Provider } from 'react-redux'\n\nReactDOM.render(\n<Provider store={store}>\n  <App/>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}